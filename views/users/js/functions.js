function validar_email(a){return!!/[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/.test(a)}function OnlyLetters(a){a.value=a.value.replace(/[^a-zA-ZàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇßØøÅåÆæœ\s]*$/g,"")}function OnlyNumbers(a){a.value=a.value.replace(/[^0-9]/g,"")}function OnlyNumbersDecimals(a){a.value=a.value.replace(/[^0-9\.]/g,"")}$(document).ready(function(){window.onbeforeunload=function(a){if(null!=popUp&&popUp.close(),user_busy)return a=a||window.event,a&&(a.returnValue="¿Está seguro de salir?"),"¿Está seguro de salir?"},$(".close-modal-box").on("click",function(){$(this).parent().parent().parent().fadeOut(250)}),$(".modal-change-password .confirmation-button").on("click",function(){$(".change-password-modal-form").submit()}),$(".change-password-modal-form").on("submit",function(a){a.preventDefault(),$("*").removeClass("error-input");var b=$(".form-messages");b.fadeOut(250),b.find(".error-message").html(""),""==$("#actual-password").val()||""==$.trim($("#actual-password").val())?(b.fadeIn(250).find(".error-message").html("Ingrese su contraseña."),$("#actual-password").addClass("error-input").focus()):""==$("#new-password").val()||""==$.trim($("#new-password").val())?(b.fadeIn(250).find(".error-message").html("Ingrese su nueva contraseña."),$("#new-password").addClass("error-input").focus()):""==$("#verification-password").val()||""==$.trim($("#verification-password").val())?(b.fadeIn(250).find(".error-message").html("Verifique su nueva contraseña."),$("#verification-password").addClass("error-input").focus()):$("#verification-password").val()!=$("#new-password").val()?(b.fadeIn(250).find(".error-message").html("Las contraseñas no coinciden."),$("#verification-password").addClass("error-input").focus()):(b.fadeIn(250).find(".error-message").animate({backgroundColor:"transparent",border:"none"},120).html("<img src='"+base_url+"public/img/loading.gif'>"),setTimeout(function(){var a=base_url+"users/change_invalid_password",c="password="+encodeURIComponent($.trim($("#actual-password").val()));c+="&new_password="+encodeURIComponent($.trim($("#new-password").val())),b.fadeIn(250).find(".error-message").html(""),$.ajax({type:"POST",url:a,data:c,success:function(a){"1"==a||1==a?(b.fadeIn(250).find(".error-message").animate({backgroundColor:"#83e891",borderColor:"#5ec16c"},120).html("Se ha cambiado de forma correcta su contraseña."),setTimeout(function(){location.reload()},1500)):"2"==a||2==a?(b.fadeIn(250).find(".error-message").animate({backgroundColor:"#e32",borderColor:"none"},120).html("Contraseña incorrecta."),$("#actual-password").addClass("error-input").focus()):"0"!=a&&0!=a||b.fadeIn(250).find(".error-message").animate({backgroundColor:"#e32",borderColor:"none"},120).html("Ha ocurrido un error, por favor intente mas tarde.")},error:function(a){b.fadeIn(250).find(".error-message").animate({backgroundColor:"#e32",borderColor:"none"},120).html("Ha ocurrido un error desconocido, comuniquese con el administrador de la aplicación.")}})},1250))}),$(".sub-menu-user").on("click",function(){var a=$(".lateral-user-menu-content"),b=a.outerWidth(),c=$(window).width()-(a.offset().left+a.outerWidth());console.log("Width: "+b+"  Right: "+c),b+c>0?(a.animate({right:-1*b},150),$(".line").addClass("show-menu").removeClass("hide-menu")):(a.animate({right:0},150),$(".line").removeClass("show-menu").addClass("hide-menu"))})});
